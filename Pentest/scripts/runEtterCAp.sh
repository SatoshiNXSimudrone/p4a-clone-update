#!/bin/bash
clear
bactT=$'p4a Ettercap Options'
ettercap=$'1. Start Text InterFAce\n2. Enter Custom command'
dialog --title 'Message' \
--backtitle "$bactT" \
--msgbox "$ettercap" 0 0    

dialog --inputbox \
"Enter you choice 1 or 2" 0 0 2>inputbox.txt.$$
retval=$?
echo $retval
choice=`cat inputbox.txt.$$`
rm  inputbox.txt.$$
case $retval in
0)
if [ $choice -eq 1 ]; then
	echo "Switching Directoies"
	cd /system/bin
	echo "Starting ettercap"
	ettercap --t
	echo "Press any key to continue"
        read choice
fi
if [ $choice -eq 2 ]; then
	clear
	cat /sdcard/Pentest/files/header.txt 
	echo ""
	echo "GUI not supported!"
	echo ""
	echo "EXAMPLES:"
	echo ""
    echo "-ettercap -T -q -i en1 -w dump -M ARP /192.168.0.4/ /192.168.0.1/"
    echo "-ettercap –Tzq –i eth0"
    echo "-ettercap -i eth0 –T –M arp /victim_ip_A/ /victim_ip_B/"
    echo "-ettercap –i eth0 –T –M arp /192.168.1.1 / /192.168.1.10-20/"
    echo "-ettercap –i eth0 –T –M arp /192.168.1.1 / /192.168.1.10-20/23"
    echo "-ettercap –T –M arp // //"
    echo "-ettercap –T –L filename –qM arp /ip_address_A/ /ip_address_B/"
    echo "-ettercap -T -w dump -M ARP /xx.xx.xx.xx/ // output:"
    echo ""
   echo "Press any key to continue"
   read tmp
     clear
	dialog --inputbox \
	"Enter Custom Command" 0 0 2>inputbox.txt.$$
	retval=$?
	echo $retval
	cmd=`cat inputbox.txt.$$`
	rm  inputbox.txt.$$
	case $retval in
	0)
	echo "Switching Directoies"
	cd /system/bin
	echo "Starting ettercap"
	sleep 2
	ettercap $cmd
	echo "Press any key to continue"
        read choice;;
	1)
	echo "Cancel pressed.";;
    esac
fi;;
1)
echo "Cancel pressed.";;
esac
    