#!/bin/bash
s=""
which dialog &> /dev/null

[ $? -ne 0 ]  &&  s+='Dialog is not available, Install it\n\n' 


which nmap &> /dev/null

[ $? -ne 0 ]  && s+='nmap is not available, Install it\n\n'

which tcpdump &> /dev/null

[ $? -ne 0 ]  && s+='tcpdump  is not available, Install it\n\n'

which ettercap &> /dev/null

[ $? -ne 0 ]  && s+='ettercap  is not available, Install it\n\n'

which python &> /dev/null

[ $? -ne 0 ]  && s+='Python is not available, Install it\n\n' 

which curl &> /dev/null

[ $? -ne 0 ]  && s+='curl is not available, Install it\n\n' 

which ping &> /dev/null

[ $? -ne 0 ]  && s+='Ping is not available, Install it\n\n' 

which whois &> /dev/null

[ $? -ne 0 ]  && s+='Whois is not available, Install it\n\n' 

which wget &> /dev/null

[ $? -ne 0 ]  && s+='Wget  is not available, Install it\n\n' 


if [[ -n $s ]] ; then
cat /sdcard/Pentest/files/header.txt
echo "OOPS...Something is wrong gathering Information"
echo "Don't forget to enter botbrew in terminal!"
echo "Checking for all dependancies"
sleep 3
clear
sleep 1
echo "====>"
sleep 1
clear
echo "========>"
sleep 1
clear
echo "============>"
sleep 1
clear
echo "================>"
sleep 1
clear
echo "====================>"
sleep 2
clear

echo ""
echo $s
 OPTIONS="Help Quit"
           select opt in $OPTIONS; do
               if [ "$opt" = "Quit" ]; then
                echo "Goodbye"
                exit
               elif [ "$opt" = "Help" ]; then
                cat /sdcard/Pentest/files/Help.txt
                echo "Press any key to continue"
                read dummy
                exit
               else
                clear
                echo bad option
               fi
           done
  fi


# Dialog utility to display options list
   while :
   do
    dialog --clear --backtitle "P4A SIMUDRONES NX" --title "MAIN MENU" \
    --menu "Use [UP/DOWN] key to move" 12 60 6 \
    "GET_IP" "GET IP ADDRESS" \
    "NMAP"  "NMAP OPTIONS" \
    "TCPDUMP"    "TCPDUMP OPTIONS" \
    "WEB_SOURCE"     "GET WEB SOURCE" \
    "WHOIS"      "WHOIS LOOK UP" \
    "PYTHON" "PYTHON SUITE" \
    "PING"  "PING " \
    "ETTERCAP"    "ETTERCAP" \
    "SQL"     "SQLMAP" \
    "EXIT"      "TO EXIT" 2> menuchoices.txt.$$

    retopt=$?
    choice=`cat menuchoices.txt.$$`
 rm menuchoices.txt.$$
 cd /sdcard/Pentest/scripts/
    case $retopt in

           0) case $choice in

                  GET_IP)      sh getIp.sh ;;
                  NMAP)        sh Nmap.sh ;;
                  TCPDUMP)     sh Tcpdump.sh ;;
                  WEB_SOURCE)  sh getSource.sh ;;
                  WHOIS)       sh whI.sh ;;
                  PYTHON)      sh runPS.sh ;;
                  PING)        sh pingF.sh ;;
                  ETTERCAP)    sh runEtterCAp.sh ;;
                  SQL)      sh runMySQL.sh ;;
                  EXIT)       clear; exit 0;;
              esac ;; 

          *)clear ; exit ;;
    esac
done
